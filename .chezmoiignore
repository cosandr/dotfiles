{{- $not_server := ne .chezmoi.hostname "DreSRV" -}}
{{- $not_desktop := ne .chezmoi.hostname "desktop" -}}
{{- $not_laptop := ne .chezmoi.hostname "laptop" -}}
{{- $is_root := eq .chezmoi.username "root" -}}
{{- $is_windows := eq .chezmoi.os "windows" -}}
secret*
.secret*
make_*
symlinks
README.md
update_config.*
{{- if $is_windows }}
*
!.gitconfig
!.ssh
!.ssh/config
!.vimrc
!AppData
!Documents
.ssh/*.pub
{{- else }}
{{- $is_wsl := hasSuffix "Microsoft" .chezmoi.kernel.osrelease }}
AppData/
Documents/
{{- if or (not $is_root) ($not_desktop) }}
.local/bin/run-borg*
{{- end }} {{/* if or (not $is_root) ($not_desktop) */}}
{{- if or $is_wsl $is_root (and $not_desktop $not_laptop) }}
# Ignore GUI app config files when not desktop or laptop
.config/autostart
.config/caddy
.config/mimeapps.list
.config/systemd
.config/tmuxinator/htop-journal.yml
.fonts
.local/bin/*mount-c
.local/bin/mount-sshfs
.local/bin/my-screenlock
.xinitrc
.xprofile
.Xresources
{{- end }} {{/* if or $is_wsl $is_root (and $not_desktop $not_laptop) */}}
{{- range $v := .check.ignore_config }}
{{- if $v.missing }}
{{ $v.path }}
{{- else if and $is_root $v.skip_root }}
{{ $v.path }}
{{- end }} {{/* if $v.missing */}}
{{- end }} {{/* range $v */}}
{{- if or $not_desktop $is_wsl }}
# Ignore desktop config on laptop and server
.local/bin/*mount-c
.config/i3/workspace-*
.config/polybar/scripts/aquaero*
.config/polybar/scripts/nvidia*
# No Nvidia GPUs
.config/tmuxinator/hnvtop.yml
.config/tmuxinator/hjn.yml
{{- end }} {{/* if or $not_desktop $is_wsl */}}
{{- if or $is_root $not_server $is_wsl }}
.ssh/*.pub
{{- end }} {{/* if or $is_root $not_server $is_wsl */}}
{{- if $is_root }}
.gnupg
{{- end }} {{/* if $is_root */}}
{{- if eq (get .check.files "mrbot") "" }}
.config/tmuxinator/hjd.yml
{{- end }} {{/* if eq (get .check.files "mrbot") "" */}}
{{- end }} {{/* if $is_windows */}}
